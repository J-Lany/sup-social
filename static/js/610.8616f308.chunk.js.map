{"version":3,"file":"static/js/610.8616f308.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/Profile/MyPosts/MyPosts.module.css?831b","webpack://my-app/./src/components/Profile/MyPosts/Post/Post.module.css?87e6","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","webpack://my-app/./src/components/Profile/ProfileInfo/ProfileInfo.module.css?ead2","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","hoc/WithAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MyPosts_container__ILOpV\",\"posts\":\"MyPosts_posts__GSiZ2\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__Yu4oG\"};","import classes from \"./Post.module.css\"\n\nfunction Post(props) {\n    return (\n        <div className={classes.item}>\n            <img src={props.avatar} alt=\"ava\" />\n            {props.message}\n            <div>\n                <span>{props.likeCounts} likes</span>\n            </div>\n        </div>\n    )\n};\n\nexport default Post;","import React from \"react\";\nimport classes from \"./MyPosts.module.css\"\nimport Post from \"./Post/Post\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { required, maxLength } from \"../../../utils/validators\";\nimport { Textarea } from \"../../common/FormsControls/FormControls\";\n// import { render } from \"@testing-library/react\";\n\nconst maxLength30 = maxLength(30);\n\nconst MyPosts = React.memo(\n    (props)  => {\n        let postsElements = props.postsData.map((pobj) => <Post message={pobj.message} likeCounts={pobj.likeCounts} avatar={pobj.avatar} key={pobj.id} />);\n    \n        let onSubmit = (formData) => {\n            props.addPost(formData.postForm);\n        }\n        console.log(\"RENDER\")\n        return (\n            <div className={classes.container}>\n                <h3>My posts</h3>\n                <PostReduxForm onSubmit={onSubmit} />\n                <div className={classes.posts}>\n                    {postsElements}\n                </div>\n            </div>\n        )\n    }\n);\n\n// class MyPosts extends PureComponent {\n//     //Вот из-за пьюр компонента можно не юзать ниже штуки\n//     // shouldComponentUpdate(nextProps, nextState) {\n//     //     return nextProps !== this.props || nextState !== this.state\n//     // }\n\n//     render() {\n//         console.log('RENDER')\n//         let postsElements = this.props.postsData.map((pobj) => <Post message={pobj.message} likeCounts={pobj.likeCounts} avatar={pobj.avatar} key={pobj.id} />);\n\n//         let onSubmit = (formData) => {\n//             this.props.addPost(formData.postForm);\n//         }\n\n//         return (\n//             <div className={classes.container}>\n//                 <h3>My posts</h3>\n//                 <PostReduxForm onSubmit={onSubmit} />\n//                 <div className={classes.posts}>\n//                     {postsElements}\n//                 </div>\n//             </div>\n//         )\n//     }\n// }\nexport default MyPosts;\n\nconst PostForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <Field component={Textarea} name={\"postForm\"} placeholder={\"Enter your post\"} validate={[required, maxLength30]} />\n                <div>\n                    <button>Add post</button>\n                </div>\n            </div>\n        </form>\n    )\n}\n\nconst PostReduxForm = reduxForm({ form: \"postForm\" })(PostForm)","import { addPostActionCreator } from \"../../../redux/profile-reducer\";\nimport MyPosts from \"./MyPosts\";\nimport { connect } from \"react-redux\";\n\n// function MyPostsContainer(props) {\n//     return (\n//         <StoreContext.Consumer>\n//             {(store) => {\n//                 let state = store.getState();\n//                 let addPost = () => {\n//                     store.dispatch(addPostActionCreator());\n//                 };\n\n//                 let onPostChange = (text) => {\n//                     let action = updatePostActionCreator(text);\n//                     store.dispatch(action);\n//                 };\n//                 return (\n//                     <MyPosts\n//                         updatePostActionCreator={onPostChange}\n//                         addPost={addPost}\n//                         newPostText={state.profilePage.newPostText}\n//                         postsData={state.profilePage.postsData}\n//                     />\n//                 )\n//             }}\n//         </ StoreContext.Consumer>\n//     )\n// };\n\nlet mapStateToProps = (state) => {\n    return {\n        newPostText: state.profilePage.newPostText,\n        postsData: state.profilePage.postsData\n    }\n}\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        addPost: (postForm) => {\n            dispatch(addPostActionCreator(postForm));\n        }\n    }\n}\n\nconst SuperMyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default SuperMyPostsContainer;","// extracted by mini-css-extract-plugin\nexport default {\"ava\":\"ProfileInfo_ava__Zv058\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__XBXuJ\",\"profilePicture\":\"ProfileInfo_profilePicture__POkOt\",\"fullName\":\"ProfileInfo_fullName__3fR7R\",\"userInfo\":\"ProfileInfo_userInfo__AcMDd\",\"status\":\"ProfileInfo_status__YrBI5\",\"statusInput\":\"ProfileInfo_statusInput__XlSnR\"};","\nimport React, { useEffect, useState } from \"react\";\nimport classes from \"./ProfileInfo.module.css\";\n\nconst ProfileStatus = (props) => {\n    let [editMode, setEditMode] = useState(false);\n    let [status, setStatus] = useState(props.status);\n\n    useEffect(() => {\n        setStatus(props.status)\n    }, [props.status])\n\n    const activatedEditMode = () => {\n        setEditMode(true);\n    };\n\n    const onStatusChange = (e) => {\n        setStatus(e.currentTarget.value);\n    };\n\n    const deActivateEditMode = () => {\n        setEditMode(false);\n        props.updateStatus(status)\n    };\n    return (\n        <div>\n\n            {\n                editMode\n                    ? <div className={classes.userInfo}><input className={classes.statusInput} autoFocus={true} value={status} onChange={onStatusChange} onBlur={deActivateEditMode} /></div>\n                    : <div className={classes.userInfo}><p className={classes.status} onDoubleClick={activatedEditMode}>{props.status || \"No status\"}</p>\n                    </div>\n            }\n\n        </div>\n    )\n}\n\n\nexport default ProfileStatus;","\nimport classes from \"./ProfileInfo.module.css\";\nimport userPhoto from '../../../accets/images/defaultUserPhoto.jpg';\nimport Preloader from \"../../common/preloader/Preloader\";\nimport ProfileStatus from \"./ProfileStatus\";\n\nfunction ProfileInfo({profile, status, updateStatus}) {\n    if (!profile) {\n        return <Preloader />\n    }\n\n    return (\n        <div>\n            <div className={classes.ava + \" \" + classes.descriptionBlock}>\n                <img src={profile.photos.large != null ? profile.photos.large : userPhoto} alt=\"AVA\"></img>\n                <div className={classes.userInfo}>\n                    <p className={classes.fullName}>{profile.fullName}</p>\n                    <ProfileStatus status={status} updateStatus={updateStatus}/>\n                </div>\n            </div>\n        </div>\n    )\n};\n\nexport default ProfileInfo;","import SuperMyPostsContainer from \"./MyPosts/MyPostsContainer\";\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\n\nfunction Profile(props) {\n\n    return (\n        <div>\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\n            <SuperMyPostsContainer />\n        </div>\n    )\n};\n\nexport default Profile;","import React from \"react\";\nimport Profile from \"./Profile\"\nimport { connect } from \"react-redux\";\nimport { getProfile, getStatus, updateStatus } from \"../../redux/profile-reducer\";\nimport {\n    useLocation,\n    useNavigate,\n    useParams,\n} from \"react-router-dom\";\nimport { withAuthRedirect } from \"../../hoc/WithAuthRedirect\";\nimport { compose } from \"redux\";\n\n\n\nexport function withRouter(Component) {\n    function ComponentWithRouterProp(props) {\n        let location = useLocation();\n        let navigate = useNavigate();\n        let params = useParams();\n        return (\n            <Component\n                {...props}\n                router={{ location, navigate, params }}\n            />\n        );\n    }\n\n    return ComponentWithRouterProp;\n}\n\nclass ProfileContainer extends React.Component {\n\n    componentDidMount() {\n        let userId = this.props.router.params.userId;\n        if (!userId) {\n            userId = this.props.authorizedUserId\n            if (!userId) {\n                this.props.history.push(\"/login\")\n            }\n        }\n        this.props.getProfile(userId)\n        this.props.getStatus(userId)\n    }\n\n    render() {\n        return (\n            <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus} />\n        )\n    }\n}\nlet mapStateToPops = (state) => {\n    return ({\n        profile: state.profilePage.profile,\n        status: state.profilePage.status,\n        isAuth: state.auth.isAuth,\n        authorizedUserId: state.auth.userId\n    })\n\n}\n\nexport default compose(\n    connect(mapStateToPops, { getProfile, getStatus, updateStatus }),\n    withRouter,\n    withAuthRedirect\n)(ProfileContainer)","import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nlet mapStateToPopsForRedirecr = (state) => ({\n    isAuth: state.auth.isAuth\n})\n\nexport const withAuthRedirect = (Component) => {\n\n    class RedirectComponent extends React.Component {\n        render () {\n            if (!this.props.isAuth) return <Navigate to={\"/login\"} />\n            \n            return <Component {...this.props}/>\n        }\n    } \n    \n   let  ConnectedAuthRedirectComponent = connect(mapStateToPopsForRedirecr)(RedirectComponent)\n    return ConnectedAuthRedirectComponent;\n}"],"names":["props","_jsxs","className","classes","children","_jsx","src","avatar","alt","message","likeCounts","maxLength30","maxLength","React","postsElements","postsData","map","pobj","Post","id","console","log","PostReduxForm","onSubmit","formData","addPost","postForm","reduxForm","form","handleSubmit","Field","component","Textarea","name","placeholder","validate","required","connect","state","newPostText","profilePage","dispatch","addPostActionCreator","MyPosts","_useState","useState","_useState2","_slicedToArray","editMode","setEditMode","_useState3","status","_useState4","setStatus","useEffect","autoFocus","value","onChange","e","currentTarget","onBlur","updateStatus","onDoubleClick","_ref","profile","photos","large","userPhoto","fullName","ProfileStatus","Preloader","ProfileInfo","SuperMyPostsContainer","withRouter","Component","location","useLocation","navigate","useNavigate","params","useParams","_objectSpread","router","ProfileContainer","_React$Component","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","userId","this","authorizedUserId","history","push","getProfile","getStatus","Profile","compose","isAuth","auth","withAuthRedirect","mapStateToPopsForRedirecr","RedirectComponent","Navigate","to"],"sourceRoot":""}